<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="description" content="Trade offs that we faced while working on this project.">

        <meta property="og:site_name" content="DUCS Office Portal Docs"/>
        <meta property="og:title" content="Trade-Offs | DUCS Office Portal Docs"/>
        <meta property="og:description" content="Trade offs that we faced while working on this project."/>
        <meta property="og:url" content="https://ducs-office.github.io/ducs-office-automation-docs/docs/trade-offs"/>
        <meta property="og:image" content="/assets/img/logo.png"/>
        <meta property="og:type" content="website"/>

        <meta name="twitter:image:alt" content="DUCS Office Portal Docs">
        <meta name="twitter:card" content="summary_large_image">

        
        <title>DUCS Office Portal Docs | Trade-Offs</title>

        <link rel="home" href="https://ducs-office.github.io/ducs-office-automation-docs/">
        <link rel="icon" href="/favicon.ico">

        
                    <!-- Insert analytics code here -->
        
        <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i,800,800i" rel="stylesheet">
        <link rel="stylesheet" href="https://ducs-office.github.io/ducs-office-automation-docs//assets/build/css/main.css?id=465ae87fc67b1f818a01">

            </head>

    <body class="flex flex-col justify-between min-h-screen bg-gray-100 text-gray-800 leading-normal font-sans">
        <header class="flex items-center shadow bg-white border-b mb-8 py-4" role="banner">
            <div class="container flex items-center max-w-8xl mx-auto px-4 lg:px-8">
                <div class="flex items-center">
                    <a href="https://ducs-office.github.io/ducs-office-automation-docs/" title="DUCS Office Portal Docs home" class="inline-flex items-center">
                        <img class="h-8 md:h-10 mr-3" src="https://ducs-office.github.io/ducs-office-automation-docs//assets/img/university-logo.png" alt="DUCS Office Portal Docs logo" />

                        <h1 class="text-lg md:text-2xl text-blue-900 font-semibold hover:text-blue-600 my-0 pr-4">DUCS Office Portal Docs</h1>
                    </a>
                </div>

                <div class="flex flex-1 justify-end items-center text-right md:pl-10">
                                    </div>
            </div>

                <button class="flex justify-center items-center bg-blue-500 border border-blue-500 h-10 mr-4 px-5 rounded-full lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>

        </header>

        <main role="main" class="w-full flex-auto">
            <section class="container max-w-8xl mx-auto px-6 md:px-8 py-4">
    <div class="flex flex-col lg:flex-row">
        <nav id="js-nav-menu" class="nav-menu hidden lg:block">
            <ul class="my-0">
            <li class="pl-4">
            
        <a href="https://ducs-office.github.io/ducs-office-automation-docs//docs/getting-started"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Getting Started
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ducs-office.github.io/ducs-office-automation-docs//docs/problem-statement"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Problem Statment
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ducs-office.github.io/ducs-office-automation-docs//docs/workflow"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Workflow
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ducs-office.github.io/ducs-office-automation-docs//docs/roles-and-permissions"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Roles &amp; Permissions
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ducs-office.github.io/ducs-office-automation-docs//docs/auth-and-policies"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Authentication &amp; Authorization
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ducs-office.github.io/ducs-office-automation-docs//docs/tools"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Tools Used
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ducs-office.github.io/ducs-office-automation-docs//docs/trade-offs"
            class="lvl0  active font-semibold text-blue-500 nav-menu__item hover:text-blue-500"
        >
            Trade Offs
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ducs-office.github.io/ducs-office-automation-docs//docs/maintenance"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Maintenance
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ducs-office.github.io/ducs-office-automation-docs//docs/deployment"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Deployment
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ducs-office.github.io/ducs-office-automation-docs//docs/target-audience"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Target Audience
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ducs-office.github.io/ducs-office-automation-docs//docs/future-scope"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Future Scope
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ducs-office.github.io/ducs-office-automation-docs//docs/references"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            References
        </a>
    
    </li>
    </ul>
        </nav>

        <div class="DocSearch-content w-full lg:w-3/5 break-words pb-16 lg:pl-4" v-pre>
            <h2>Tradeoffs</h2>

<p>We discuss here some of the problems we encountered during the development, the solutions for them and the trade-offs in implementing them.</p>

<h3>Letter</h3>

<ul>
<li><h4><strong>Problem</strong></h4>

<p>Each Outgoing letter has a unique serial number which depends on its type. Type of the letter can be <code>Bill</code>, <code>General</code> or <code>Notesheet</code>. Serial number of an outgoing letter has following format :-</p>

<table>
<thead>
<tr>
  <th align="center">Type of letter</th>
  <th align="center">Serial Number Format</th>
</tr>
</thead>
<tbody>
<tr>
  <td align="center">Bill</td>
  <td align="center">CS/TR/YYYY/XXXX</td>
</tr>
<tr>
  <td align="center">General</td>
  <td align="center">CS/YYYY/XXXX</td>
</tr>
<tr>
  <td align="center">Notesheet</td>
  <td align="center">CS/NTS/YYYY/XXXX</td>
</tr>
</tbody>
</table>

<p>where <code>YYYY</code> is the year in which the letter was sent and <code>XXXX</code> are the total number of letters of corresponding type sent before that letter in that year plus one.</p>

<p>Similar to outgoing letters, incoming letters also has unique serial number with format:-</p>

<blockquote>
  <p>CS/D/YYYY/XXXX</p>
</blockquote>

<p>where 'YYYY' is the year in which the incoming letter was received and XXXX are the total number of incoming letters received before that letter in that year plus one.</p></li>
<li><h4><strong>Solutions</strong></h4>

<p>This problem has many solutions some of which are listed below.</p>

<ol>
<li><p>Accept the serial number from user. At the backend we can validate the format and uniqueness of the serial number.</p>

<h5><strong>Pros</strong></h5>

<ol>
<li>Easy to implement.</li>
</ol>

<h5><strong>Cons</strong></h5>

<ol>
<li>Though we can check the uniqueness of serial number but implementing the logic for validating that value of <code>XXXX</code> is actually correct is quite complex. Either we can internally count the total number of letters sent before in that year every time user create, edit or delete a letter and check serial number of all letters sent in that year and accordingly ask user to update serial number of all other letters or we can assume that user always enter correct serial number.</li>
</ol></li>
<li><p>Auto generate serial number whenever a new letter is created or type or date of letter is updated.</p>

<h5><strong>Pros</strong></h5>

<ol>
<li>User will not add serial number(user friendly).</li>
<li>Serial number of all letters are always correct.</li>
</ol>

<h5><strong>Cons</strong></h5>

<ol>
<li>Complex to implement. We will need to store latest value of <code>XXXX</code> corresponding to every year and type of letter.</li>
<li>Whenever user delete or edit type or date of letter serial number of other letters and latest value of <code>XXXX</code> needs to be updated accordingly.
<br> </br></li>
</ol></li>
</ol></li>
<li><h4><strong>What we implemented</strong></h4>

<p>Assuming frequency of deletion of letters is negligible and user always enter record in order in which letter is received or sent we choose to auto generate serial number. We stored latest value of <code>XXXX</code> corresponding to every year and type of letter in cache. On creation of letter, value of <code>XXXX</code> of corresponding year and type incremented and serial number of that letter is assigned  with the value of <code>XXXX</code> accordingly. Once letter is created type of outgoing letter is not editable.</p>

<h5><strong>Pros</strong></h5>

<ol>
<li>User friendly.</li>
<li>Easy to implement.</li>
</ol>

<h5><strong>Cons</strong></h5>

<ol>
<li>Whenever year of date of letter is edited or letter is deleted their corresponding serial number can't be reassigned to another letter.</li>
<li>value of <code>XXXX</code> depends on order in which letter record is entered.</li>
</ol></li>
</ul>

<h3>Teacher</h3>

<ul>
<li><h4><strong>Problem</strong></h4>

<p>Office staff collect teaching details of all DU college teachers teaching CS every 6 months. Teachers fill their teaching details after receiving notification and submit them before deadline. Also some teachers and Department faculties are assigned as supervisors. Supervisors has their publications and can view their scholar's profile.</p></li>
<li><h4><strong>Solution</strong></h4>

<p>One of the possible solution is to create different guard ans migration for teachers login similar to users login. Teachers can be given  their credentials so they can login in the portal and notified for filling teaching details. They can fill and submit their teaching details via portal. Also <code>supervisor_profile</code> migration can be created to store supervisor information. Each entry in <code>supervisor_profile</code> belong to either department faculty i.e. <code>users</code> table or <code>teachers</code> table. Publications and Scholars of supervisor belongs to <code>supervisor_profile</code>.</p>

<h5><strong>Pros</strong></h5>

<ol>
<li>Teacher can't interfere in department work i.e. roles and permissions can't be assigned to them</li>
</ol>

<h5><strong>Cons</strong></h5>

<ol>
<li>Number of migrations increases.</li>
<li>Chaining for supervisor profile access. For eg, to access the scholars of a supervisor who is also a teacher would have meant:<code>$teacher-&gt;supervisorProfile-&gt;scholars</code>. 
<br> </br></li>
</ol></li>
<li><h4><strong>What we implemented</strong></h4>

<p>Instead of creating different migration and guard for teachers,  a new category <code>Teacher</code> is introduced in <code>users</code> table. Teachers details can be added in <code>users</code> table by selecting <code>Teacher</code> category. Teachers will have same login as department faculty. Also boolean attribute <code>is_supervisor</code> added in <code>users</code> table which is set to false by default and its value is true if user is supervisor. Publications and scholars of supervisor will belongs to <code>users</code>.</p>

<h5><strong>Pros</strong></h5>

<ol>
<li>Simple and easy to implement.</li>
<li>No new migrations are created.</li>
<li>No chaining for supervisor profile access.</li>
</ol>

<h5><strong>Cons</strong></h5>

<ol>
<li><code>users</code> migration size increases.</li>
<li>Accidently, roles and permissions which are designed for department members can be assigned to teachers.</li>
</ol></li>
</ul>

<h3>Scholar Advisors</h3>

<ul>
<li><h4><strong>Problem</strong></h4>

<p>Department may assign cosupervisor to scholar. Cosupervisor can be department faculty, DU college teacher or external. Advisory committee is assigned to Scholar which consist of scholar's supervisor, cosupervisor (if any) and other members. Other members of advisory committe of the scholar can be cosupervisors, externals and department faculties which are not supervisors. Problem is how to store department cosupervisors and other members of scholar's advisory committee.</p></li>
<li><h4><strong>Solutions</strong></h4>

<p>Some of the possible solutions are listed below</p>

<ol>
<li><p>Make separate migration for cosupervisors in which each entry either refers to <code>users</code> table if cosupervisor is department faculty or DU college teacher, or store cosupervisors details if cosupervisor is external. Then foreign key for scholar's cosupervisor can be created in <code>scholars</code> table which refers to the cosupervisor table. To store other members of advisory committee of scholar other migration <code>advisor_scholar</code> can be created. Relation between <code>scholars</code> and <code>advisor_scholar</code> would be one to many. Each entry in <code>advisor_scholar</code> either would be referring to <code>users</code> table (if member is department faculty), cosupervisors table (if member is cosupervisor) or storing member's detail (if member is external).</p>

<h5><strong>Cons</strong></h5>

<ol>
<li>Complex in implementation. Many migrations with morphs relation are created.</li>
<li>Details of external members of scholar advisory committee is duplicated if they are advisors of more than one scholar.</li>
</ol></li>
<li><p>Details of other members of advisory committee who are externals can be stored in separate migration <code>externals</code>. Similar to above solution make separate migration for cosupervisors and other members of advisory committee of scholar. Only difference is now each entry in <code>advisor_scholar</code>  would be referring to <code>users</code> table (if member is department faculty), cosupervisors table (if member is cosupervisor) or <code>externals</code> (if member is external).</p>

<h5><strong>Pros</strong></h5>

<ol>
<li>For each external member of advisory committee unique entry is created. There is no duplication of details of external members of scholar advisory committee if they are advisors of more than one scholar.</li>
</ol>

<h5><strong>Cons</strong></h5>

<ol>
<li>Complex in implementation. Many migrations with morphs relation are created.
<br> </br></li>
</ol></li>
</ol></li>
<li><h4><strong>What we implemented</strong></h4>

<p>Since all department faculty members and DU college teachers are stored in <code>users</code> table, one more boolean attribute in the table <code>is_cosupervisor</code> is added which is set to false by default and true if user is cosupervisor. One more category is added in <code>users</code> table name <code>External</code>. All details of externals are stored in <code>users</code> table. These externals can be cosupervisors or external member of advisory committee. New migration <code>advisor_scholar</code> for storing other members of  scholar advisory committee is created. <code>advisor_scholar</code> has many to one relation with <code>scholars</code> table and refer to <code>users</code> table for other member.</p>

<h5><strong>Pros</strong></h5>

<ol>
<li>Easy to implement and understand.</li>
<li>For each external (whether cosupervisor or advisory committee member) only one entry is created.</li>
<li>No new migration for cosupervisors and externals are created.</li>
</ol>

<h5><strong>Cons</strong></h5>

<ol>
<li>Size of <code>users</code> table increases.</li>
</ol></li>
</ul>

<h3>Research Committee of a Scholar</h3>

<p>A PhD scholar has a <code>research committee</code> consisting of 3-4 members.</p>

<blockquote>
  <ol>
  <li>A supervisor - faculty at DUCS or CS teachers at the UG-colleges.</li>
  <li>A cosupervisor - faculty, or a UG-teacher or an external(person not employed/ affiliated to DU at any post). A scholar may/may not have cosupervisor at a point.</li>
  <li>An external - as stated above</li>
  <li>A faculty teacher</li>
  </ol>
</blockquote>

<p>The supervisor and cosupervisor can only be set by the office, while the other members (advisors) of the research committee are set by the scholar's supervisor. 
Moreover, any of these members can be replaced by the same authority as above. Once replaced, the constituent members need to be recorded with their tenure. An update takes place without recording a member's tenure, while a replacement means changing the member and creating a record of the previous entry with their tenure.</p>

<p>For eg:
If the research committee of a scholar consists of - <code>Supervisor 'A', Cosupervisor 'B' and external 'C'</code></p>

<blockquote>
  <p>Supervisor 'A': 2019 - present
  Co-supervisor 'B': 2019 - present
  Advisors - (C): 2019-present</p>
</blockquote>

<p>when 'C' is replaced by 'E' &amp; 'F', it would require a record.</p>

<blockquote>
  <p>Advisors - (C): 2019 - 2020</p>
</blockquote>

<p>and the new advisors will be like so:</p>

<blockquote>
  <p>Advisors - (E): 2020 - present</p>
</blockquote>

<ul>
<li><h4><strong>Problem</strong></h4>

<p>Storing a scholar's supervisor, cosupervisor and advisors along with maintaining a record of all three.</p></li>
<li><h4><strong>Solutions</strong></h4>

<ol>
<li><p>Creating json columns in the <code>scholars</code> table for records.</p>

<h5><strong>Pros</strong></h5>

<ol>
<li>Need not create new migrations.</li>
<li>Details of any member would always remain saved even after they were deleted from the app as user/external.</li>
</ol>

<h5><strong>Cons</strong></h5>

<ol>
<li>Storing these as json columns bulked up the scholars table.</li>
<li>While deletion of a user is a rare occurence, them updating their details was an actual use-case. json columns could not have handled this relationship.</li>
</ol></li>
<li><p>Create a single pivot table named <code>research_committee</code></p>

<h5><strong>Pros</strong></h5>

<ol>
<li>Each entry from this table correspondeds to a user. Hence, any update in their details was reflected here.</li>
<li>Seperation of advisors from scholars was more clearer.</li>
<li>Their tenure could be recorded using two pivot columns, start and end date.</li>
</ol>

<h5><strong>Cons</strong></h5>

<ol>
<li>This approach required for us to create a distinction between a scholar's supervisor, cosupervisor and advisors. For eg, the user being a cosupervisor(is_cosupervisor = true) could not be used as a distinction since scholar B's cosupervisor could be an advisor for scholar B.</li>
</ol></li>
<li><p>Create 3 seperate pivot tables for scholar supervisors, cosupervisors and advisors</p>

<h5><strong>Pros</strong></h5>

<ol>
<li>All 3 from solution 2</li>
<li>The three different tables handled distinction naturally.</li>
</ol>

<h5><strong>Cons</strong></h5>

<ol>
<li>More migrations
<br> </br></li>
</ol></li>
</ol></li>
<li><h4><strong>What we implemented</strong></h4>

<p>We went ahead with approach 3 so that any handling of these authorities could be handled easily in future as well. This also offered a clearer design.</p></li>
</ul>

<h3>Publications</h3>

<ul>
<li><h4><strong>Problem</strong></h4>

<p>Research scholars and supervisors have two kinds of publications - journals and conferences.
Both these types of publications have more common attributes than uncommon. Journals have a publisher and a number whereas a conference has a city and country. Except for these differences rest all details are the same. Moreover, any publication can have many presentations.</p></li>
<li><h4><strong>Solutions</strong></h4>

<ol>
<li><p>Create different tables for journals and conferences</p>

<h5><strong>Pros</strong></h5>

<ol>
<li>Clearer distinction between the two types.</li>
</ol>

<h5><strong>Cons</strong></h5>

<ol>
<li>This would have required us to create a morph type in presentations to find the associated publication, which although achievable, was a bit against the idea that a publication had a presentation - whether it was a journal or conference did not make a difference.</li>
<li>Scholar or users would have to have two different relationships for finding their associated journals and conferences.</li>
</ol></li>
<li><p>Creating a same table for both</p>

<h5><strong>Pros</strong></h5>

<ol>
<li>Removing duplication of a table structure.</li>
<li>presentations were associated using a hasMany relationship.</li>
<li>Scholar and users have a hasMany relationship for publications, scope on which could be built to find journals and conferences.</li>
</ol>

<h5><strong>Cons</strong></h5>

<ol>
<li>A pair of columns is null in each type (as mentioned in the description)
<br> </br></li>
</ol></li>
</ol></li>
<li><h4><strong>What we implemented</strong></h4>

<p>We went ahead with the second approach to not create duplications and distinction between the two types based on two trivial attributes. This also made creating relationships easier. Finally, relationships and scopes related to publications was extracted to a trait - <code>HasPublications</code>.
Since scholars and supervisor profiles extend two different types of layouts, their controllers were created separately, though making use of view partials wherever achievable. (think forms and index details)</p></li>
</ul>

<h3>Scholar Requests</h3>

<ul>
<li><h4><strong>Problem</strong></h4>

<p>A scholar at the end of their tenure requests for a <code>Phd-Seminar</code> and <code>Thesis Title Approval</code> (mentioned Title Approval in the app). Their supervisor request for an <code>examiner</code> for them. All of these requests are one-time only.
We needed to maintain these requets` date and status.</p></li>
<li><h4><strong>Solutions</strong></h4>

<ol>
<li><p>A common table for all three requests.</p>

<h5><strong>Pros</strong></h5>

<ol>
<li>Lesser number of migrations</li>
<li>All scholar request types were contained in one table</li>
</ol>

<h5><strong>Cons</strong></h5>

<ol>
<li>Had to save the <code>type</code> of request with every record.</li>
<li>All the three types had a few (1-2) different types of attributes. These had to be left nullable.</li>
<li>While the requests are singular now, they could become multiple in future. All the three kinds have different requirements for authorizations, more differentiated if they become multiple requests. The common policy file had to contain different methods of authorization for them.</li>
</ol></li>
<li><p>Create 3 different tables for all three types of requests.</p>

<h5><strong>Pros</strong></h5>

<ol>
<li>Clearer distinction between requests.</li>
<li>Authorisation policies contained respective logic only.</li>
</ol>

<h5><strong>Cons</strong></h5>

<ol>
<li>More migrations
<br> </br></li>
</ol></li>
</ol></li>
<li><h4><strong>What we implemented</strong></h4>

<p>We went ahead with the second approach for clarity between requests and their authorisation logic.
Keeping a common table would have been benificial if there were less differences and the table could be made generic for future requests. Here it did not seem like so. Hence, we created seperate table for all three.</p></li>
</ul>
        </div>
    </div>
</section>
        </main>

        <script src="/assets/build/js/main.js?id=3a6791bda20d4de3a0aa"></script>

        <script>
    const navMenu = {
        toggle() {
            const menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
        },
    }
</script>

        <footer class="bg-white text-center text-sm mt-12 py-4" role="contentinfo">
            <ul class="flex flex-col md:flex-row justify-center my-0">
                <li class="md:mr-2">
                    &copy; <a href="#" title="DUCS website">DUCS</a> 2020.
                </li>

                <li>
                    Built with <a href="http://jigsaw.tighten.co" title="Jigsaw by Tighten">Jigsaw</a>
                    and <a href="https://tailwindcss.com" title="Tailwind CSS, a utility-first CSS framework">Tailwind CSS</a>.
                </li>
            </ul>
        </footer>
    </body>
</html>
